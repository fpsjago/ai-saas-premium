---
import Layout from '../layouts/Layout.astro';
import Container from '../components/layout/Container.astro';
import Section from '../components/layout/Section.astro';

const changelog = [
  {
    version: 'v2.0.0',
    date: 'February 2026',
    title: 'AI-Powered Workflows',
    badge: 'New',
    badgeColor: 'success',
    items: [
      'Intelligent pipeline orchestration that learns from your deployment patterns',
      'AI-assisted code review with context-aware suggestions',
      'Natural language interface for infrastructure management',
      'Automated performance optimization based on real-time metrics',
      'Smart rollback predictions — know before a deployment fails',
    ],
  },
  {
    version: 'v1.9.0',
    date: 'January 2026',
    title: 'Enhanced Security Suite',
    badge: 'Improved',
    badgeColor: 'primary',
    items: [
      'SOC 2 Type II compliance automation',
      'Runtime threat detection with ML-powered anomaly analysis',
      'Secrets rotation with zero-downtime credential swapping',
      'Supply chain security scanning for all dependencies',
      'Granular RBAC with team-level permission inheritance',
    ],
  },
  {
    version: 'v1.8.0',
    date: 'December 2025',
    title: 'Performance Boost',
    badge: 'Improved',
    badgeColor: 'primary',
    items: [
      'Build times reduced by 45% with smarter caching',
      'Edge network expanded to 42 global locations',
      'Cold start latency cut by 60% for serverless functions',
      'Asset compression pipeline with Brotli and AVIF support',
    ],
  },
  {
    version: 'v1.7.0',
    date: 'November 2025',
    title: 'Team Collaboration',
    badge: 'New',
    badgeColor: 'success',
    items: [
      'Real-time collaborative deployment dashboards',
      'Team activity feeds with deployment annotations',
      'Shared environment templates across projects',
      'Integrated incident war rooms with automatic timeline',
    ],
  },
  {
    version: 'v1.6.0',
    date: 'October 2025',
    title: 'Analytics Dashboard',
    badge: 'New',
    badgeColor: 'success',
    items: [
      'DORA metrics tracking out of the box',
      'Custom metric dashboards with drag-and-drop builder',
      'Cost attribution by team, project, and environment',
      'Automated weekly performance reports via email and Slack',
    ],
  },
  {
    version: 'v1.5.0',
    date: 'September 2025',
    title: 'API v2 Launch',
    badge: 'New',
    badgeColor: 'success',
    items: [
      'RESTful API v2 with OpenAPI 3.1 specification',
      'GraphQL endpoint for flexible data queries',
      'Webhook system with retry logic and dead letter queues',
      'Rate limiting with burst capacity and priority lanes',
    ],
  },
  {
    version: 'v1.4.0',
    date: 'August 2025',
    title: 'Mobile App',
    badge: 'New',
    badgeColor: 'success',
    items: [
      'iOS and Android apps for deployment monitoring',
      'Push notifications for build status and incidents',
      'Quick actions: approve, rollback, and scale from your phone',
      'Biometric authentication for secure mobile access',
    ],
  },
  {
    version: 'v1.3.0',
    date: 'July 2025',
    title: 'Integrations Hub',
    badge: 'New',
    badgeColor: 'success',
    items: [
      '40+ integrations including GitHub, GitLab, Bitbucket, and Azure DevOps',
      'Slack and Microsoft Teams deployment notifications',
      'PagerDuty and Opsgenie incident escalation',
      'Terraform and Pulumi infrastructure-as-code support',
      'Custom webhook builder for any third-party service',
    ],
  },
];

const badgeColors: Record<string, string> = {
  success: 'rgba(34, 197, 94, 0.15)',
  primary: 'rgba(139, 92, 246, 0.15)',
  warning: 'rgba(245, 158, 11, 0.15)',
};
const badgeTextColors: Record<string, string> = {
  success: 'var(--success)',
  primary: 'var(--primary)',
  warning: 'var(--warning)',
};
---

<Layout
  title="Changelog — NexusAI"
  description="See what's new in NexusAI. Latest features, improvements, and fixes."
>
  <!-- Hero -->
  <Section size="lg" class="page-hero">
    <div class="hero-bg" aria-hidden="true">
      <div class="grid-bg"></div>
      <div class="gradient-orb gradient-orb--purple"></div>
    </div>
    <Container>
      <div style="text-align: center; position: relative; z-index: 1;">
        <nav class="breadcrumbs fade-up" aria-label="Breadcrumb">
          <a href="/ai-saas-premium/">Home</a>
          <span class="sep">/</span>
          <span class="current">Changelog</span>
        </nav>
        <h1 class="fade-up" style="margin-bottom: var(--space-4);">
          <span class="gradient-text">What's New</span>
        </h1>
        <p class="fade-up delay-1" style="font-size: var(--text-body-lg); max-width: 600px; margin: 0 auto; color: var(--text-secondary);">
          Stay up to date with the latest features, improvements, and fixes to NexusAI.
        </p>
      </div>
    </Container>
  </Section>

  <!-- Timeline -->
  <Section>
    <Container>
      <div class="timeline">
        {changelog.map((entry, i) => (
          <div class="timeline-entry fade-up">
            <div class="timeline-line" aria-hidden="true">
              <div class="timeline-dot"></div>
            </div>
            <div class="timeline-content">
              <div class="timeline-header">
                <span class="version-badge">{entry.version}</span>
                <span class="timeline-date">{entry.date}</span>
                <span class="entry-badge" style={`background: ${badgeColors[entry.badgeColor]}; color: ${badgeTextColors[entry.badgeColor]};`}>
                  {entry.badge}
                </span>
              </div>
              <h2 class="timeline-title">{entry.title}</h2>
              <ul class="timeline-list">
                {entry.items.map(item => (
                  <li>{item}</li>
                ))}
              </ul>
            </div>
          </div>
        ))}
      </div>
    </Container>
  </Section>

  <!-- Subscribe -->
  <Section>
    <Container>
      <div class="subscribe-cta fade-up">
        <h2><span class="gradient-text">Get notified of updates</span></h2>
        <p style="color: var(--text-secondary); margin-bottom: var(--space-6);">
          Subscribe to receive changelog updates directly in your inbox.
        </p>
        <form class="subscribe-form" onsubmit="event.preventDefault()">
          <input type="email" placeholder="your@email.com" class="subscribe-input" required />
          <button type="submit" class="btn btn--primary">Subscribe</button>
        </form>
      </div>
    </Container>
  </Section>
</Layout>

<style>
  .page-hero { position: relative; overflow: hidden; }
  .hero-bg { position: absolute; inset: 0; z-index: 0; }
  .grid-bg {
    position: absolute; inset: 0;
    background-image: linear-gradient(var(--border) 1px, transparent 1px),
                      linear-gradient(90deg, var(--border) 1px, transparent 1px);
    background-size: 60px 60px;
    mask-image: radial-gradient(ellipse at center, black 30%, transparent 70%);
    opacity: 0.4;
  }
  .gradient-orb--purple {
    position: absolute; top: 30%; left: 50%; transform: translate(-50%, -50%);
    width: 500px; height: 500px; border-radius: 50%;
    background: rgba(139, 92, 246, 0.1); filter: blur(80px);
  }
  .breadcrumbs { margin-bottom: var(--space-6); font-size: var(--text-sm); color: var(--text-muted); }
  .breadcrumbs a { color: var(--text-secondary); text-decoration: none; }
  .breadcrumbs a:hover { color: var(--primary); }
  .breadcrumbs .sep { margin: 0 var(--space-2); }
  .breadcrumbs .current { color: var(--text); }

  .timeline { max-width: 720px; margin: 0 auto; }
  .timeline-entry {
    display: grid; grid-template-columns: 24px 1fr; gap: var(--space-6);
    padding-bottom: var(--space-10); position: relative;
  }
  .timeline-line {
    display: flex; flex-direction: column; align-items: center;
    position: relative;
  }
  .timeline-line::after {
    content: ''; position: absolute; top: 24px; bottom: -40px;
    width: 2px; background: var(--border);
  }
  .timeline-entry:last-child .timeline-line::after { display: none; }
  .timeline-dot {
    width: 12px; height: 12px; border-radius: 50%;
    background: var(--primary); border: 2px solid var(--bg);
    box-shadow: 0 0 0 4px rgba(139, 92, 246, 0.2);
    position: relative; z-index: 1; margin-top: 6px;
  }
  .timeline-content {
    background: var(--bg-card); border: 1px solid var(--border);
    border-radius: var(--radius-lg); padding: var(--space-6);
    transition: border-color 0.3s;
  }
  .timeline-content:hover { border-color: var(--primary); }

  .timeline-header {
    display: flex; align-items: center; gap: var(--space-3);
    margin-bottom: var(--space-3); flex-wrap: wrap;
  }
  .version-badge {
    font-family: var(--font-mono); font-size: var(--text-sm); font-weight: 600;
    color: var(--primary); background: rgba(139, 92, 246, 0.1);
    padding: var(--space-1) var(--space-3); border-radius: var(--radius-full);
  }
  .timeline-date { font-size: var(--text-sm); color: var(--text-muted); }
  .entry-badge {
    font-size: var(--text-xs); font-weight: 600; text-transform: uppercase;
    letter-spacing: 0.05em; padding: 2px 8px; border-radius: var(--radius-full);
  }
  .timeline-title { font-size: var(--text-h3); margin-bottom: var(--space-4); }
  .timeline-list {
    list-style: none; padding: 0;
  }
  .timeline-list li {
    position: relative; padding-left: var(--space-5);
    margin-bottom: var(--space-2); font-size: var(--text-sm);
    color: var(--text-secondary); line-height: 1.6;
  }
  .timeline-list li::before {
    content: '→'; position: absolute; left: 0; color: var(--primary); font-weight: 600;
  }

  .subscribe-cta {
    text-align: center; padding: var(--space-12) var(--space-8);
    background: var(--bg-card); border: 1px solid var(--border);
    border-radius: var(--radius-xl);
  }
  .subscribe-cta h2 { margin-bottom: var(--space-4); }
  .subscribe-form {
    display: flex; gap: var(--space-3); max-width: 400px; margin: 0 auto;
  }
  .subscribe-input {
    flex: 1; padding: var(--space-3); border-radius: var(--radius-full);
    border: 1px solid var(--border); background: var(--bg-elevated);
    color: var(--text); font-size: var(--text-sm);
  }
  .subscribe-input:focus { outline: none; border-color: var(--primary); }
  .btn { padding: var(--space-3) var(--space-6); border-radius: var(--radius-full); font-weight: 600; border: none; cursor: pointer; transition: transform 0.2s; }
  .btn--primary { background: var(--gradient-primary); color: white; }
  .btn--primary:hover { transform: translateY(-2px); }

  @media (max-width: 768px) {
    .subscribe-form { flex-direction: column; }
    .timeline-entry { grid-template-columns: 16px 1fr; gap: var(--space-4); }
  }
</style>
