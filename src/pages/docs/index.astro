---
import Layout from '../../layouts/Layout.astro';
import Container from '../../components/layout/Container.astro';
import Section from '../../components/layout/Section.astro';
import Navigation from '../../components/layout/Navigation';
import Footer from '../../components/layout/Footer';
import ScrollProgress from '../../components/effects/ScrollProgress';

const endpoints = [
  {
    method: 'POST',
    methodColor: '#22C55E',
    title: 'Authentication',
    path: '/api/v2/auth',
    description: 'Generate API tokens, manage OAuth flows, and handle team authentication with SSO support.',
    features: ['API key generation', 'OAuth 2.0 + PKCE', 'SAML SSO', 'Token rotation'],
  },
  {
    method: 'POST',
    methodColor: '#22C55E',
    title: 'Deploy',
    path: '/api/v2/deploy',
    description: 'Trigger deployments, configure rollout strategies, and manage environment promotion.',
    features: ['Blue-green deploys', 'Canary releases', 'Rollback', 'Environment promotion'],
  },
  {
    method: 'GET',
    methodColor: '#3B82F6',
    title: 'Monitor',
    path: '/api/v2/monitor',
    description: 'Real-time metrics, health checks, log streaming, and alerting configuration.',
    features: ['Real-time metrics', 'Log streaming', 'Custom alerts', 'SLO tracking'],
  },
  {
    method: 'PUT',
    methodColor: '#F59E0B',
    title: 'Manage',
    path: '/api/v2/manage',
    description: 'Configure projects, teams, environments, and infrastructure resources.',
    features: ['Project config', 'Team management', 'Resource scaling', 'Secret management'],
  },
];

const sdks = [
  { name: 'Node.js', icon: '‚¨¢', command: 'npm install @nexusai/sdk' },
  { name: 'Python', icon: 'üêç', command: 'pip install nexusai' },
  { name: 'Go', icon: 'üîµ', command: 'go get github.com/nexusai/sdk-go' },
  { name: 'Rust', icon: 'ü¶Ä', command: 'cargo add nexusai' },
];
---

<Layout
  title="Documentation ‚Äî NexusAI"
  description="Get started with NexusAI. API reference, code examples, SDKs, and guides."
>
  <ScrollProgress client:load />
  <Navigation client:load links={[
    { label: "Features", href: "/ai-saas-premium/features/" },
    { label: "Pricing", href: "/ai-saas-premium/pricing/" },
    { label: "About", href: "/ai-saas-premium/about/" },
    { label: "Contact", href: "/ai-saas-premium/contact/" },
  ]} />

  <!-- Hero -->
  <Section size="lg" class="page-hero">
    <div class="hero-bg" aria-hidden="true">
      <div class="grid-bg"></div>
      <div class="gradient-orb gradient-orb--purple"></div>
    </div>
    <Container>
      <div style="text-align: center; position: relative; z-index: 1;">
        <nav class="breadcrumbs fade-up" aria-label="Breadcrumb">
          <a href="/ai-saas-premium/">Home</a>
          <span class="sep">/</span>
          <span class="current">Docs</span>
        </nav>
        <h1 class="fade-up" style="margin-bottom: var(--space-4);">
          <span class="gradient-text">API Documentation</span>
        </h1>
        <p class="fade-up delay-1" style="font-size: var(--text-body-lg); max-width: 600px; margin: 0 auto; color: var(--text-secondary);">
          Everything you need to integrate NexusAI into your workflow. From quick start to advanced API usage.
        </p>
      </div>
    </Container>
  </Section>

  <!-- Quick Start -->
  <Section>
    <Container>
      <div class="quick-start fade-up">
        <p class="section-label">Quick Start</p>
        <h2 style="text-align: center; margin-bottom: var(--space-8);">Up and running in 60 seconds</h2>

        <div class="terminal">
          <div class="terminal-header">
            <span class="dot dot--red"></span>
            <span class="dot dot--yellow"></span>
            <span class="dot dot--green"></span>
            <span class="terminal-title">terminal</span>
          </div>
          <div class="terminal-body">
            <div class="terminal-line"><span class="prompt">$</span> <span class="cmd">npm install -g @nexusai/cli</span></div>
            <div class="terminal-line"><span class="prompt">$</span> <span class="cmd">nexus init my-project</span></div>
            <div class="terminal-line output">‚úì Project initialized with default configuration</div>
            <div class="terminal-line"><span class="prompt">$</span> <span class="cmd">nexus deploy</span></div>
            <div class="terminal-line output">üöÄ Deploying to production...</div>
            <div class="terminal-line output success">‚úì Deployed successfully in 3.2s</div>
            <div class="terminal-line output">  ‚Üí https://my-project.nexusai.app</div>
          </div>
        </div>
      </div>
    </Container>
  </Section>

  <!-- API Reference -->
  <Section>
    <Container>
      <p class="section-label" style="text-align: center;">API Reference</p>
      <h2 style="text-align: center; margin-bottom: var(--space-8);">Core Endpoints</h2>

      <div class="api-grid">
        {endpoints.map(ep => (
          <div class="api-card fade-up">
            <div class="api-card__header">
              <span class="method-badge" style={`background: ${ep.methodColor}20; color: ${ep.methodColor};`}>
                {ep.method}
              </span>
              <code class="api-path">{ep.path}</code>
            </div>
            <h3 class="api-card__title">{ep.title}</h3>
            <p class="api-card__desc">{ep.description}</p>
            <ul class="api-card__features">
              {ep.features.map(f => (
                <li>{f}</li>
              ))}
            </ul>
          </div>
        ))}
      </div>
    </Container>
  </Section>

  <!-- Code Examples -->
  <Section>
    <Container>
      <p class="section-label" style="text-align: center;">Code Examples</p>
      <h2 style="text-align: center; margin-bottom: var(--space-8);">Start building in minutes</h2>

      <div class="examples-grid">
        <div class="terminal fade-up">
          <div class="terminal-header">
            <span class="dot dot--red"></span>
            <span class="dot dot--yellow"></span>
            <span class="dot dot--green"></span>
            <span class="terminal-title">deploy.js</span>
          </div>
          <div class="terminal-body">
            <pre set:html={`<code><span class="kw">import</span> { NexusAI } <span class="kw">from</span> <span class="str">'@nexusai/sdk'</span>;

<span class="kw">const</span> nexus = <span class="kw">new</span> <span class="fn">NexusAI</span>({
  apiKey: process.env.NEXUS_API_KEY
});

<span class="kw">const</span> deployment = <span class="kw">await</span> nexus.<span class="fn">deploy</span>({
  project: <span class="str">'my-app'</span>,
  branch: <span class="str">'main'</span>,
  strategy: <span class="str">'canary'</span>,
  canarySteps: [5, 25, 50, 100]
});

console.<span class="fn">log</span>(<span class="str">"Deployed: "</span> + deployment.url);</code>`} />
          </div>
        </div>

        <div class="terminal fade-up">
          <div class="terminal-header">
            <span class="dot dot--red"></span>
            <span class="dot dot--yellow"></span>
            <span class="dot dot--green"></span>
            <span class="terminal-title">monitor.py</span>
          </div>
          <div class="terminal-body">
            <pre set:html={`<code><span class="kw">from</span> nexusai <span class="kw">import</span> Client

client = Client(api_key=<span class="str">"your-key"</span>)

<span class="comment"># Get real-time metrics</span>
metrics = client.monitor.<span class="fn">get_metrics</span>(
    project=<span class="str">"my-app"</span>,
    timeframe=<span class="str">"1h"</span>,
    metrics=[<span class="str">"p99_latency"</span>, <span class="str">"error_rate"</span>]
)

<span class="kw">for</span> m <span class="kw">in</span> metrics:
    <span class="fn">print</span>(m.name + <span class="str">": "</span> + m.value)</code>`} />
          </div>
        </div>
      </div>
    </Container>
  </Section>

  <!-- SDKs -->
  <Section>
    <Container>
      <p class="section-label" style="text-align: center;">SDKs</p>
      <h2 style="text-align: center; margin-bottom: var(--space-8);">Official SDKs</h2>

      <div class="sdk-grid">
        {sdks.map(sdk => (
          <div class="sdk-card fade-up">
            <span class="sdk-icon">{sdk.icon}</span>
            <h3 class="sdk-name">{sdk.name}</h3>
            <code class="sdk-command">{sdk.command}</code>
          </div>
        ))}
      </div>
    </Container>
  </Section>

  <!-- Support -->
  <Section>
    <Container>
      <div class="support-grid">
        <a href="#" class="support-card fade-up">
          <span class="support-icon">üìñ</span>
          <h3>Guides</h3>
          <p>Step-by-step tutorials for common workflows</p>
        </a>
        <a href="#" class="support-card fade-up">
          <span class="support-icon">üí¨</span>
          <h3>Community</h3>
          <p>Join our Discord community of 10,000+ developers</p>
        </a>
        <a href="#" class="support-card fade-up">
          <span class="support-icon">üé´</span>
          <h3>Support</h3>
          <p>Get help from our engineering team</p>
        </a>
      </div>
    </Container>
  </Section>

  <Footer client:load />
</Layout>

<style>
  .page-hero { position: relative; overflow: hidden; }
  .hero-bg { position: absolute; inset: 0; z-index: 0; }
  .grid-bg {
    position: absolute; inset: 0;
    background-image: linear-gradient(var(--border) 1px, transparent 1px),
                      linear-gradient(90deg, var(--border) 1px, transparent 1px);
    background-size: 60px 60px;
    mask-image: radial-gradient(ellipse at center, black 30%, transparent 70%);
    opacity: 0.4;
  }
  .gradient-orb--purple {
    position: absolute; top: 30%; left: 50%; transform: translate(-50%, -50%);
    width: 500px; height: 500px; border-radius: 50%;
    background: rgba(139, 92, 246, 0.1); filter: blur(80px);
  }
  .breadcrumbs { margin-bottom: var(--space-6); font-size: var(--text-sm); color: var(--text-muted); }
  .breadcrumbs a { color: var(--text-secondary); text-decoration: none; }
  .breadcrumbs a:hover { color: var(--primary); }
  .breadcrumbs .sep { margin: 0 var(--space-2); }
  .breadcrumbs .current { color: var(--text); }

  .quick-start { max-width: 640px; margin: 0 auto; }

  .terminal {
    background: var(--bg-card); border: 1px solid var(--border);
    border-radius: var(--radius-lg); overflow: hidden;
  }
  .terminal-header {
    display: flex; align-items: center; gap: 6px;
    padding: var(--space-3) var(--space-4);
    background: var(--bg-elevated); border-bottom: 1px solid var(--border);
  }
  .dot { width: 10px; height: 10px; border-radius: 50%; }
  .dot--red { background: #EF4444; }
  .dot--yellow { background: #F59E0B; }
  .dot--green { background: #22C55E; }
  .terminal-title { font-family: var(--font-mono); font-size: var(--text-xs); color: var(--text-muted); margin-left: var(--space-2); }
  .terminal-body { padding: var(--space-5); font-family: var(--font-mono); font-size: var(--text-sm); line-height: 1.7; }
  .terminal-body pre { margin: 0; white-space: pre-wrap; }
  .terminal-body code { font-family: var(--font-mono); }
  .terminal-line { margin-bottom: 2px; }
  .prompt { color: var(--accent); }
  .cmd { color: var(--text); }
  .output { color: var(--text-muted); padding-left: var(--space-4); }
  .success { color: var(--success); }
  .kw { color: var(--primary); }
  .str { color: var(--success); }
  .fn { color: var(--accent); }
  .comment { color: var(--text-muted); }

  .api-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-6);
  }
  .api-card {
    background: var(--bg-card); border: 1px solid var(--border);
    border-radius: var(--radius-lg); padding: var(--space-6);
    transition: border-color 0.3s, transform 0.3s;
  }
  .api-card:hover { border-color: var(--primary); transform: translateY(-4px); }
  .api-card__header {
    display: flex; align-items: center; gap: var(--space-3);
    margin-bottom: var(--space-4);
  }
  .method-badge {
    font-family: var(--font-mono); font-size: var(--text-xs); font-weight: 700;
    padding: 2px 8px; border-radius: var(--radius-sm);
  }
  .api-path { font-size: var(--text-xs); color: var(--text-muted); }
  .api-card__title { font-size: var(--text-h4); margin-bottom: var(--space-2); }
  .api-card__desc { font-size: var(--text-sm); color: var(--text-secondary); margin-bottom: var(--space-4); }
  .api-card__features {
    list-style: none; padding: 0;
  }
  .api-card__features li {
    font-size: var(--text-xs); color: var(--text-muted);
    padding: var(--space-1) 0; padding-left: var(--space-4);
    position: relative;
  }
  .api-card__features li::before { content: '‚úì'; position: absolute; left: 0; color: var(--success); }

  .examples-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: var(--space-6); max-width: 960px; margin: 0 auto;
  }

  .sdk-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-6); max-width: 900px; margin: 0 auto;
  }
  .sdk-card {
    text-align: center; padding: var(--space-6);
    background: var(--bg-card); border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    transition: border-color 0.3s, transform 0.3s;
  }
  .sdk-card:hover { border-color: var(--primary); transform: translateY(-4px); }
  .sdk-icon { font-size: 2rem; display: block; margin-bottom: var(--space-3); }
  .sdk-name { font-size: var(--text-h4); margin-bottom: var(--space-3); }
  .sdk-command {
    font-family: var(--font-mono); font-size: var(--text-xs); color: var(--text-muted);
    background: var(--bg-elevated); padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-md); display: inline-block;
  }

  .support-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: var(--space-6);
  }
  .support-card {
    text-align: center; padding: var(--space-8);
    background: var(--bg-card); border: 1px solid var(--border);
    border-radius: var(--radius-lg); text-decoration: none; color: inherit;
    transition: border-color 0.3s, transform 0.3s;
  }
  .support-card:hover { border-color: var(--primary); transform: translateY(-4px); }
  .support-icon { font-size: 2rem; display: block; margin-bottom: var(--space-4); }
  .support-card h3 { margin-bottom: var(--space-2); }
  .support-card p { font-size: var(--text-sm); color: var(--text-secondary); }

  @media (max-width: 768px) {
    .api-grid { grid-template-columns: 1fr; }
    .examples-grid { grid-template-columns: 1fr; }
    .sdk-grid { grid-template-columns: repeat(2, 1fr); }
  }
</style>
