---
import Layout from '../layouts/Layout.astro';
import Container from '../components/layout/Container.astro';
import Section from '../components/layout/Section.astro';
import Navigation from '../components/layout/Navigation';
import Footer from '../components/layout/Footer';
import ScrollProgress from '../components/effects/ScrollProgress';
import HeroPage from '../components/hero/HeroPage';
import PricingTable from '../components/pricing/PricingTable';
import Accordion from '../components/ui/Accordion';
import TestimonialGrid from '../components/social-proof/TestimonialGrid';
import GradientOrb from '../components/effects/GradientOrb';
import ParticleField from '../components/effects/ParticleField';

import { plans, comparisonFeatures } from '../data/pricing';
import { faqs } from '../data/faqs';
import { pricingTestimonials } from '../data/testimonials';
---

<Layout title="Pricing — NexusAI" description="Simple, transparent pricing for teams of all sizes. Start free, scale as you grow.">
  <ScrollProgress client:load />
  <Navigation client:load links={[
    { label: "Features", href: "/ai-saas-premium/features/" },
    { label: "Pricing", href: "/ai-saas-premium/pricing/", active: true },
    { label: "About", href: "/ai-saas-premium/about/" },
    { label: "Contact", href: "/ai-saas-premium/contact/" },
  ]} />

  <!-- Hero -->
  <HeroPage client:load
    title="Simple, transparent pricing"
    description="Start free, scale as you grow. No hidden fees, no surprises, no credit card required."
    breadcrumbs={[{ label: "Home", href: "/ai-saas-premium/" }, { label: "Pricing" }]}
  />

  <!-- Pricing Table -->
  <Section>
    <PricingTable client:load plans={plans} />
  </Section>

  <!-- Comparison Table -->
  <Section variant="elevated">
    <Container>
      <div class="text-center fade-up">
        <p class="section-label" style="justify-content: center;">Compare Plans</p>
        <h2 style="margin-bottom: var(--space-10);">Feature comparison</h2>
      </div>
      <div class="fade-up" style="overflow-x: auto;">
        <table style="width: 100%; border-collapse: collapse; min-width: 640px;">
          <thead>
            <tr style="border-bottom: 2px solid var(--border);">
              <th style="text-align: left; padding: var(--space-4); font-size: var(--text-sm); color: var(--text-secondary);">Feature</th>
              <th style="text-align: center; padding: var(--space-4); font-size: var(--text-sm);">Starter</th>
              <th style="text-align: center; padding: var(--space-4); font-size: var(--text-sm); color: var(--violet-400);">Pro</th>
              <th style="text-align: center; padding: var(--space-4); font-size: var(--text-sm);">Enterprise</th>
            </tr>
          </thead>
          <tbody>
            {comparisonFeatures.map((cat) => (
              <>
                <tr>
                  <td colspan="4" style="padding: var(--space-4) var(--space-4) var(--space-2); font-weight: 700; font-size: var(--text-sm); color: var(--text-primary); border-top: 1px solid var(--border);">{cat.category}</td>
                </tr>
                {cat.features.map((f) => (
                  <tr style="border-bottom: 1px solid var(--border-subtle);">
                    <td style="padding: var(--space-3) var(--space-4); font-size: var(--text-sm); color: var(--text-secondary);">{f.name}</td>
                    <td style="text-align: center; padding: var(--space-3); font-size: var(--text-sm);">{typeof f.starter === 'boolean' ? (f.starter ? <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--success)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg> : '—') : f.starter}</td>
                    <td style="text-align: center; padding: var(--space-3); font-size: var(--text-sm); color: var(--violet-400);">{typeof f.pro === 'boolean' ? (f.pro ? <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--violet-400)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg> : '—') : f.pro}</td>
                    <td style="text-align: center; padding: var(--space-3); font-size: var(--text-sm);">{typeof f.enterprise === 'boolean' ? (f.enterprise ? <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--success)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg> : '—') : f.enterprise}</td>
                  </tr>
                ))}
              </>
            ))}
          </tbody>
        </table>
      </div>
    </Container>
  </Section>

  <!-- FAQ -->
  <Section>
    <Container>
      <div class="text-center fade-up">
        <p class="section-label" style="justify-content: center;">FAQ</p>
        <h2 style="margin-bottom: var(--space-10);">Frequently asked questions</h2>
      </div>
      <div style="max-width: 768px; margin: 0 auto;">
        <Accordion client:load items={faqs} />
      </div>
    </Container>
  </Section>

  <!-- Testimonial Grid -->
  <Section variant="elevated">
    <Container>
      <div class="text-center fade-up">
        <p class="section-label" style="justify-content: center;">Customer Success</p>
        <h2 style="margin-bottom: var(--space-10);">Teams that trust NexusAI</h2>
      </div>
    </Container>
    <TestimonialGrid client:load testimonials={pricingTestimonials} />
  </Section>

  <!-- CTA Banner -->
  <Section size="lg">
    <div style="position: relative; overflow: hidden; border-radius: var(--radius-2xl); background: var(--gradient-primary); padding: var(--space-16) var(--space-8); text-align: center; max-width: 1200px; margin: 0 auto;">
      <GradientOrb client:load color="rgba(255,255,255,0.1)" size={400} top="0%" left="10%" />
      <div class="fade-up" style="position: relative; z-index: 1;">
        <h2 style="font-size: var(--text-4xl); color: white; margin-bottom: var(--space-4);">Need a custom plan?</h2>
        <p style="font-size: var(--text-body-lg); color: rgba(255,255,255,0.85); max-width: 500px; margin: 0 auto var(--space-8);">Our team can build a plan tailored to your organization's specific needs and compliance requirements.</p>
        <a href="/ai-saas-premium/contact/" style="display: inline-flex; align-items: center; padding: var(--space-3) var(--space-8); background: white; color: var(--violet-600); border-radius: var(--radius-full); font-weight: 700; font-size: var(--text-sm); text-decoration: none;">Contact Sales</a>
      </div>
    </div>
  </Section>

  <Footer client:load />
</Layout>
